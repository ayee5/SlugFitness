<!DOCTYPE html>
{{response.files.append(URL('static','css/custom.css'))}}
{{extend 'layout.html'}}
<html>
<h1>Workout Schedule</h1>
<body>

	<script type="text/javascript">
		
		function getid(u,el) {   
			var myid = ($(el).attr('id')); //id of element
			var val = document.getElementById(myid).value; //value of element		
			var formData = "value=" + val + "&id=" +myid; //json string that will be posted
		
			$.ajax({type: "POST", 
				url: u, 
				data: formData, 
				success: function(msg){ 
				 	//alert(msg);
				}
			});
			var total = 0;
			for(var c = 0; c < 7; c++){
				for (var r = 0; r < 7; r++){
					var r_c = r.toString() + c.toString();
					var curr_val = $("#" + r_c).val();
					total = total + parseInt(curr_val);
				}	
			}
			alert(total);
		}		
	</script>

	<form>
	<!--<div class="sheet" style="width:800px; margin:0 auto;">-->
	<div class="sheet">
	
	<table>
		<tr>
			<td> <input type= "hidden" id ="s2k" class = "myinput" value=''></input> </td>
			{{weeks = ['Week 1','Week 2','Week 3','Week 4', 'Week 5', 'Week 6', 'Week 7']}}
			{{for c in xrange(7):}}
			<td> <input class = "col_row" value='{{=weeks[c]}}'></input> </td>
			{{pass}}
		</tr>
		
		{{days = ['Monday', 'Tuesday' , 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']}}
		{{for r in xrange(7):}}
		<tr>
			<td> <input class = "col_row" value='{{=days[r]}}' ></input> </td>
			{{for c in xrange(7):}}
				<td> <input class="myinput" value='{{=datalist[r][c]}}' id='{{=r}}{{=c}}' onchange="getid('{{=URL(r=request, f='update')}}',this);"></input> </td>
			{{pass}}
		</tr>
		{{pass}}
		
		<tr>
			<td> <input class = "weeklySum" value="Weekly Total" ></input> </td>
			{{for e in xrange(7):}}
				<td> <input id ='wt{{=r}}' class = "weeklySum" value=''></input> </td>
			{{pass}}	
		</tr>

	</table>
	</div>
	</form>
	
	
	<form>
	<div class="sheet">
	<table>
		<tr>
			<td> <input class = "minute_remain" value='Goal'></input> </td>
			<td> <input class = "myinput" value=''></input> </td>
		</tr>
		<tr>
			<td> <input class = "minute_remain" value='Total Minutes'></input> </td>
			<td> <input class = "myinput" value=''></input> </td>
		</tr>
		<tr>
			<td> <input class = "minute_remain" value="Minute until Goal"></input> </td>
			<td> <input class = "myinput" value=''></input> </td>
		</tr>
	</table>
	</div>
	</form>
		
</body>
<html>